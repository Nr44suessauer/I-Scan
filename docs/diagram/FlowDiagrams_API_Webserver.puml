@startuml device Config

partition "Externes System" {
    start
    :Send POST/PUT JSON;
}


partition "I-San Webserver" {
if (Save input data) then (error)
    stop
else (success)
endif
while (Check IP address PositionUnits)
    :check status of device;
endwhile (no more IP addresses (in data))

while (Check IP address Lightingmoduls)
    :check status of device;
endwhile (no more IP addresses (in data))

while (Check COM Port)
    :check status of camera/measurementUnit;


endwhile (no more com ports (in data))
if (posetive results available?) then (Yes)
    :Store results in config/status;
    end

else (error)
    :Show error in config/status;
end


@enduml
}




@startuml Config lighting
start

:Überprüfe Bedingung;
if (Bedingung erfüllt?) then (Ja)
    :Aktion A;
else (Nein)
    :Aktion B;
endif

:Weiterer Schritt;
while (Wiederhole Bedingung?)
    :Aktion in Schleife;
endwhile (Fertig)

fork
    :Parallel 1;
fork again
    :Parallel 2;
end fork

stop
@enduml


@startuml Config Scan
start

:Überprüfe Bedingung;
if (Bedingung erfüllt?) then (Ja)
    :Aktion A;
else (Nein)
    :Aktion B;
endif

:Weiterer Schritt;
while (Wiederhole Bedingung?)
    :Aktion in Schleife;
endwhile (Fertig)

fork
    :Parallel 1;
fork again
    :Parallel 2;
end fork

stop
@enduml


@startuml Config COMPort
start

:Überprüfe Bedingung;
if (Bedingung erfüllt?) then (Ja)
    :Aktion A;
else (Nein)
    :Aktion B;
endif

:Weiterer Schritt;
while (Wiederhole Bedingung?)
    :Aktion in Schleife;
endwhile (Fertig)

fork
    :Parallel 1;
fork again
    :Parallel 2;
end fork

stop
@enduml




PUT/POST -> send : IP Adresses (max 3) from PositionUnits -> Ip Lightingmoduls (max X) -> schreiben in Json -> Verbindungstest mit ACK -> Antwort an PositionUnits ->